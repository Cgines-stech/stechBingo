/* style_holiday.css â€” soft frosty background with subtle falling snow */
/* Holiday look: soft gradient + gentle colored snow + preview flyout */

@import url('https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@400;700&display=swap');

:root{
  --background-top:#f9fbff;
  --background-mid:#eaf4fa;
  --background-bottom:#f4f8f6;
  --gold:#d4af37;
  --green:#2e7d6b;
  --green-light:#45c99a;
  --ink:#0c3027;
}

* { box-sizing: border-box; }

body{
  font-family: 'Segoe UI', system-ui, -apple-system, Roboto, Arial, sans-serif;
  text-align:center;
  padding:20px;
  color:var(--ink);
  background: linear-gradient(180deg, var(--background-top), var(--background-mid) 50%, var(--background-bottom));
  background-attachment: fixed;
  min-height:100vh;
  position:relative;
  overflow-x:hidden;
}

/* Snow (two layers; supported everywhere) */
body::before,
body::after{
  content:"";
  position:fixed;
  inset:-20% -20%;
  pointer-events:none;
  z-index:0;
  background-repeat:repeat;
  opacity:.7;
  animation: snowfall 35s linear infinite;
}
body::before{
  background-image:
    radial-gradient(4px 4px at 10% 20%, rgba(255,255,255,.95) 70%, transparent 71%),
    radial-gradient(5px 5px at 50% 10%, rgba(212,175,55,.95) 70%, transparent 71%),
    radial-gradient(4.5px 4.5px at 70% 60%, rgba(255,59,59,.95) 70%, transparent 71%),
    radial-gradient(5px 5px at 85% 35%, rgba(79,220,113,.95) 70%, transparent 71%);
  background-size: 420px 420px;
  animation-duration: 45s;
}
body::after{
  background-image:
    radial-gradient(3px 3px at 15% 70%, rgba(255,255,255,.9) 70%, transparent 71%),
    radial-gradient(2.8px 2.8px at 65% 85%, rgba(255,59,59,.85) 70%, transparent 71%),
    radial-gradient(3px 3px at 80% 25%, rgba(79,220,113,.85) 70%, transparent 71%),
    radial-gradient(2.8px 2.8px at 40% 35%, rgba(212,175,55,.85) 70%, transparent 71%);
  background-size: 280px 280px;
  animation-duration: 28s;
}

@keyframes snowfall{
  0%   { transform: translateY(-120px) translateX(0); }
  100% { transform: translateY(420px) translateX(-160px); }
}

/* Layout helpers */
.view{
  display:flex; flex-direction:column; align-items:center;
  max-width:920px; margin:16px auto;
}
.hidden{ display:none !important; }

/* Pattern banner */
#pattern-banner label,
h1,h2,h3,.announce-letter{
  font-family: 'Mountains of Christmas', cursive;
}
#pattern-banner{ gap:8px; color:var(--green); }

/* Last-called ball */
#last-called{
  width:110px; height:110px; line-height:110px; border-radius:50%;
  margin:26px auto 12px; font-size:2.6rem; font-weight:700;
  background: var(--green-light); color:#fff;
  box-shadow: 0 4px 12px rgba(0,0,0,.25);
}

/* BINGO color palette for called numbers and ball */
.called.B, #last-called.last-ball.B { background:#3c91ff; color:#fff; }
.called.I, #last-called.last-ball.I { background:#ffd54f; color:#3b2b00; }
.called.N, #last-called.last-ball.N { background:#ff9800; color:#fff; }
.called.G, #last-called.last-ball.G { background:#48c774; color:#fff; }
.called.O, #last-called.last-ball.O { background:#9c27b0; color:#fff; }

/* Number grid */
.grid-row{ display:flex; justify-content:center; margin:6px 0; }
.row-label{
  width:60px; margin-right:10px; line-height:60px; font-size:2rem; font-weight:700;
  color:var(--gold); font-family:'Mountains of Christmas', cursive;
}
.number{
  width:60px; height:60px; line-height:60px; margin:2px; border-radius:50%;
  background:#fff; color:var(--ink); font-size:1.35rem; font-weight:800; text-align:center;
  transition: transform .08s ease, background .15s ease;
  box-shadow: 0 2px 6px rgba(0,0,0,.08);
}
.number:hover{ transform: translateY(-1px); }
.called{ box-shadow: 0 3px 8px rgba(0,0,0,.15); color:#fff; }

/* Cards */
.card-grid{
  display:grid; grid-template-columns:repeat(5,60px); gap:8px; margin-top:16px;
}
.card-cell{
  width:60px; height:60px; line-height:60px; font-size:1.25rem; font-weight:800;
  border-radius:10px; background:#fff; color:var(--ink);
  border:1px solid rgba(0,0,0,.1); box-shadow:0 2px 6px rgba(0,0,0,.1);
  transition: background .15s ease, transform .1s ease;
}
.card-cell.marked{ background: linear-gradient(180deg, var(--green-light), var(--green)); color:#fff; }
.card-cell.winner{ border:3px solid var(--gold); box-shadow:0 0 10px rgba(212,175,55,.8); transform: translateY(-1px); }

.winner-badge{
  background:var(--gold); color:#2b1a00; font-weight:700; padding:4px 8px; border-radius:4px; margin-top:6px;
}

/* Board layout container */
#board-layout{ display:flex; justify-content:center; align-items:flex-start; gap:18px; max-width:1100px; margin:0 auto 8px; }

/* Floating Pattern Preview window */
#pattern-flyout{
  position:fixed; top:90px; left:24px; width:260px;
  background:rgba(255,255,255,.95);
  border:1px solid rgba(0,0,0,.08);
  box-shadow:0 18px 40px rgba(0,0,0,.18);
  border-radius:12px; z-index:9999; backdrop-filter: blur(3px);
}
#pattern-flyout .pf-head{
  display:flex; justify-content:space-between; align-items:center;
  padding:8px 10px; border-bottom:1px solid rgba(0,0,0,.06);
  background:linear-gradient(180deg,#f7faf8,#eef6f2);
  border-radius:12px 12px 0 0;
}
#pattern-flyout .pf-drag-handle{
  font-family:'Mountains of Christmas', cursive; font-weight:700; color:var(--green);
  user-select:none; cursor:move;
}
#pattern-flyout .pf-actions{ display:flex; gap:6px; }
#pattern-flyout .pf-btn{
  border:none; background:#fff; color:#1b3a32; cursor:pointer; width:26px; height:26px; border-radius:6px;
  box-shadow:0 1px 2px rgba(0,0,0,.08);
}
#pattern-flyout .pf-btn:hover{ background:#f1f5f4; }
#pattern-flyout .pf-body{ padding:10px; }

#pattern-preview .pf-title{
  font-family:'Mountains of Christmas', cursive; font-weight:700; color:var(--green);
  text-align:center; margin-bottom:6px;
}
#pattern-preview .pf-note{
  font-size:.85rem; color:#5a6d66; text-align:center; margin-bottom:6px;
}
#pattern-preview .mini-card{
  display:grid; grid-template-columns:repeat(5,28px); grid-auto-rows:28px; gap:6px; justify-content:center; margin:6px auto 2px;
}
#pattern-preview .mini-cell{
  border-radius:6px; background:#fff; border:1px solid rgba(0,0,0,.08);
  box-shadow:0 1px 3px rgba(0,0,0,.06);
}
#pattern-preview .mini-cell.free{
  background:#f0faf6; border-style:dashed; border-color:rgba(0,0,0,.15);
}
#pattern-preview .mini-cell.on{
  background: linear-gradient(180deg, var(--green-light), var(--green));
  border-color: rgba(0,0,0,.12);
  box-shadow:0 0 10px rgba(212,175,55,.55);
  animation: previewPulse 1.1s ease-in-out infinite alternate;
}
@keyframes previewPulse{
  from{ transform:scale(1); filter:brightness(1); }
  to  { transform:scale(1.05); filter:brightness(1.08); }
}

/* Small screens: no change needed; flyout is draggable */
